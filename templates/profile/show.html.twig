{% extends 'base.html.twig' %}

{% block title %}Hello ProfileController!{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-md-6 mx-auto text-center">
            <h1>{{'profileShow.title'|trans}}</h1>
            <img style="width: 250px; height: 250px; border-radius: 50%; object-fit: cover;" src={{vich_uploader_asset(app.user, 'imageFile')}}>
            <br>
            <p>{{ app.user.email }}</p>
            <h2>{{ app.user.firstname ~" "~ app.user.lastname}}</h2>
            <p>{{'profileCreatedAt.profile' |trans}} {{ app.user.createdAt|date("d-m-Y") }}</p>
            <br>
            <p>
                <a class="btn btn-primary btn-sm" href={{ path('app_profile_edit')}}>{{'profileShowEdit.btn'|trans}}</a>
            </p>
        
        </div>
    
    </div>
    <div class="row">
        {% for video in videos %}
            <div class="card" style="width: 350px;">
                <iframe width="300" height="200" src={{ video.videoLink }}></iframe>
                <h2><a href={{ path('app_video_show', {id : video.id}) }}>{{ video.title |u.truncate(20,'...',true) }}</a></h2>
                <p>{{ video.description |u.truncate(25, '...',true) }}</p>
                <p>{{ video.createdAt ? video.createdAt|date('Y-m-d') : '' }}</p>
                <p> {{ video.user.firstname }} {{ video.user.lastname }}</p>
            </div>
        {% else %}
            <p> {{'profileShow.noVideoFound'|trans}}</p>
        {% endfor %}
    </div>
{% endblock %}
